<!DOCTYPE html>
<html>
<head>
<script src="https://bitcoincore.tech/apps/bitcoinjs-ui/lib/bitcoinjs-lib.js"></script>
<script src="https://bundle.run/bip39@3.0.4"></script>
<script src="https://bundle.run/bip32@2.0.6"></script>
<script src="https://bundle.run/buffer@6.0.3"></script>
<script src="https://bundle.run/noble-secp256k1@1.2.14"></script>
<script src="https://bundle.run/browserify-cipher@1.0.1"></script>
<script src="files.js"></script>
</head>
<body onload="start()">
<p style="text-align:right">This relay: <a target="_blank" href="https://github.com/ondra-novak/nostr_server.git">https://github.com/ondra-novak/nostr_server.git</a></p>
<h1>File demo</h1>
<p>Your public key is: <span id="pubkey"></span></p>

<h2>Upload</h2>
<table>
    <tr><th>Description:</th><td><input type="text" size="64" id="filedesc"></td></tr>
    <tr><th>Binary content:</th><td><input type="file" size="64" id="att1"></td></tr>
    <tr><th></th><td><button id="doupload">Upload</button></td></tr>
    <tr><th>Event ID:</th><td id="eventhash"></td></tr>
</table>

<h2>Show event</h2>
<table>
    <tr><th>Event ID:</th><td><input type="search" size="64" id="srch_eventid"></td></tr>
    <tr><th></th><td><button id="event_srch">Search</button></td></tr>
    <tr><th>Content</th><td><pre id="event_content"></pre></td></tr>
    <tr><th>Link</th><td><a id="event_link" target="_blank"></a></td></tr>
</table>

<h2>Download (only images)</h2>
<table>
    <tr><th>Event ID</th><td><input type="search" size="64" id="fileid"></td></tr>
    <tr><th></th><td><button id="dofetch">RETRIEVE</button></td></tr>
</table>
<img src="" id="outimage" hidden>

</body>
